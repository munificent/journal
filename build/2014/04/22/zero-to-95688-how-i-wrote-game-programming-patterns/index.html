<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href='//fonts.googleapis.com/css?family=Source+Code+Pro|PT+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

    <!-- Tell mobile browsers we're optimized for them and they don't need to
         crop the viewport. -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/rss.xml" />
    <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="/atom.xml" />
    <link rel="stylesheet" href="/style.css" type="text/css" />

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <title>
      Zero to 95,688: How I wrote Game Programming Patterns
      
        &ndash; journal.stuffwithstuff.com
      
    </title>
  </head>
  <body>
    <div class="column">
      
<article>
<header>
<h1>
  <a href="/2014/04/22/zero-to-95688-how-i-wrote-game-programming-patterns/" rel="bookmark"
     title="Permanent Link to Zero to 95,688: How I wrote Game Programming Patterns">
    Zero to 95,688: How I wrote Game Programming Patterns
  </a>
</h1>

  <a class="older" href="/2014/03/02/nostalgia-rathole/"
     title="Older Post &ldquo;Nostalgia Rathole&rdquo;">&#8617;</a>


  <a class="newer" href="/2014/07/05/dropping-loot/"
     title="Newer Post &ldquo;Dropping Loot&rdquo;">&#8618;</a>

</header>
<h4><a href="/archive">April 22, 2014</a>
    <span class="tags"><a href="/category/book">book</a> <a href="/category/game-dev">game-dev</a> <a href="/category/game-patterns">game-patterns</a></span>
</h4>

<div class="update">
<p><em>Update 2014/04/28:</em> In case you missed the link, the web site for my
  book is <a href="http://gameprogrammingpatterns.com">gameprogrammingpatterns.com</a>.</p>
</div>

<p>About an hour ago, in the quiet of my living room, alone except for a sleeping
dog next to me, I accomplished the biggest goal of my life. I finished writing
<a href="http://gameprogrammingpatterns.com/">Game Programming Patterns</a>. It&rsquo;s a book on game programming (it would be a
strange title for a book on ornithology) that I started writing about four years
and a lifetime ago.</p>

<figure>
  <img class="framed" src="/image/2014/04/100-percent.png">
  <figcaption>What I see now when I run the script that converts my Markdown
  manuscript to HTML.</figcaption>
</figure>

<p>It feels weird writing a blog post that doesn&rsquo;t have any real content beyond my
own personal story, but what the hell. It&rsquo;s not like I have anything better to
do! I get some vicarious pleasure (mixed with heaps of envy) when I read about
other people finishing their books, so I&rsquo;ll try to add to the canon.</p>

<h2>The Call to Adventure</h2>

<p>Like most stories, it starts with the hero having something bad happen to him.
(Did I just call myself the hero? Seriously? God, this is already going to my
head.)</p>

<p>About five years ago, I was a game programmer at Electronic Arts in sunny
Orlando, Florida. That&rsquo;s the studio that does Madden, NCAA Football, Madden,
Tiger Woods Golf, Madden, and also this football game you&rsquo;ve probably heard of.
They did a few other one-off games too.</p>

<p>I&rsquo;d been there seven years, which is an impressively long time to actively
dislike football while working in an office that lived and breathed it. The last
game I worked on, <a href="http://en.wikipedia.org/wiki/Henry_Hatsworth_in_the_Puzzling_Adventure">Henry Hatsworth in the Puzzling Adventure</a>, was an
absolute blast, the kind of dream project you imagine game development to be all
about. Just seven dudes hanging out making a cool game they all loved.</p>

<figure>
  <img class="framed" src="/image/2014/04/hatsworth.jpg">
  <figcaption>My pixel art alter ego in the <a href="https://www.youtube.com/watch?v=xYztScHUmo0&index=53&list=PLqN7MzshdwZLGlQuTYkcANZFW_dWN3HIf">end credits</a>.</figcaption>
</figure>

<p>After we shipped, EA decided to never make that kind of mistake again and
refocused on <del>suckling the withering teats of its aging cash cows</del> the
shareholder-friendly profitability of beloved annual franchises. My entire team
quit except me. I ended up bouncing around onto a bunch of different projects.</p>

<p>I was so burned out that chunks of char were falling off me, and I was really
frustrated by how hard it was to ramp up every time I was airdropped into a new
team and its disorganized, deeply coupled, inconsistent code. I&rsquo;d find bits of
real elegance sitting just a few source files away from some hairball that would
have benefitted from the exact same structure. People just weren&rsquo;t talking to
each other about their craft and weren&rsquo;t learning.</p>

<p>Game dev culture, at least at the studio I was at, is kind of weird. One quirk
of it is that a lot of the programmers I worked with didn&rsquo;t give credence to
ideas from the larger world of software. Things like <em>Design Patterns</em> were for
Nancy-boy enterprise programmers, not <em>real</em> game coders.</p>

<p>On top of this stress, I&rsquo;d just had a kid, an eventuality I did not plan for
when I purchased a 900&rsquo; house at the peak of the housing bubble. One frustrated
drive home from work, I had an idea: I knew some basic software architecture. I
liked writing stuff down. What if I wrote a book specifically targeted towards
game developers about this? If I aimed it straight at them, maybe they wouldn&rsquo;t
dismiss it out of hand.</p>

<figure>
<img class="framed" src="/image/2014/04/notes.jpg">
<figcaption>A few notes from when I first started thinking about the book.
Note that even then I was pandering to the masses on reddit!</figcaption>
</figure>

<p>(Also, let&rsquo;s be honest, it&rsquo;s not hard to write a more enjoyable read than
<em>Design Patterns</em>. I&rsquo;m pretty sure the Addison-Wesley style manual explicitly
<em>demands</em> crushingly boring prose.)</p>

<p>Now, I am a world class project starter. I&rsquo;ve got hard drives full of stories,
videogames, art, music, screenplays, photography projects, tabletop games,
hell, there&rsquo;s probably some poetry in there somewhere. But virtually none of
it&rsquo;s <em>done</em>. About the only thing I&rsquo;d been able to get out the door at that time
is the occasional blog post.</p>

<p>I was fully aware that taking on this project was pretty much doomed to failure.
But, after visiting the Pacific Northwest, my wife and I <em>really</em> wanted to
move, and a book would make for a nice bit of résumé padding to help me find a
new job.</p>

<figure>
<img class="framed" src="/image/2014/04/lake-crescent.jpg">
<figcaption>How could you <em>not</em> want to live here?</figcaption>
</figure>

<p>I felt like the book could be our ticket out west. So I needed to figure out
every psychological trick I could play on myself to actually get it done.</p>

<h3>The structure</h3>

<p>If blog posts were the only thing I could finish, why not take a cue from that?
<em>Design Patterns</em> is a stack of mostly unconnected chapters. I could organize my
book the same way. Then instead of writing a whole monolithic book, it would
feel more like writing a few dozen separate articles. Less novel and more
anthology.</p>

<p>Likewise, each chapter in <em>Design Patterns</em> has the same top level headings and
organization. I could do the same thing, so I didn&rsquo;t need to come up with a
unique outline and narrative for each chapter. They&rsquo;d just be recipes with
different ingredients and instructions.</p>

<h3>The workflow</h3>

<p>I&rsquo;m an inveterate tinkerer and I knew if I didn&rsquo;t put the kibosh on that, I&rsquo;d
spend all day futzing with CSS or some other stupid thing that wasn&rsquo;t writing.
So I spent a day or two putting together <a href="https://github.com/munificent/game-programming-patterns/blob/master/script/format.py">a minimal script</a> that would
take a file of Markdown for each chapter and convert it to HTML. Once I got it
working, I swore to myself that I wouldn&rsquo;t monkey with it (much).</p>

<p>Now I couldn&rsquo;t get distracted by design, style, editors, or anything. Just me, Sublime, and a handful of markdown syntax.</p>

<h3>The shame</h3>

<p>One thing I&rsquo;d heard was that telling your friends and family that you intend to
do something is a good way to keep yourself honest. So I totally made myself
look like an ass and told everyone, &ldquo;Hey, I&rsquo;m gonna write a book. Because I&rsquo;m so
awesome. Don&rsquo;t you wish you were as erudite as me?&rdquo; Maybe I didn&rsquo;t word it
exactly like that, but I&rsquo;m pretty sure that&rsquo;s how it came across.</p>

<figure>
<img class="framed" src="/image/2014/04/shame.jpg">
<figcaption>After working at EA for seven years, they give you seven weeks
off. I used some for my honeymoon and then started writing.</figcaption>
</figure>

<h3>The incentive</h3>

<p>I&rsquo;d been blogging for a year or so and one thing I&rsquo;d learned is that the
possibility of a good Reddit discussion about my writing was <em>incredibly</em>
effective at getting me to complete something and put it out there. So I planned
to put each chapter online as I finished it instead of waiting for the entire
book to be done.</p>

<figure>
<img class="framed" src="/image/2014/04/reddit.png">
<figcaption>One of the first chapters posted.</figcaption>
</figure>

<h2>Crossing the Threshold</h2>

<p>I rolled this all by my wife and, unbelievably, she agreed to it. Even though it
meant she&rsquo;d have to spend even more time taking care of our infant daughter
while I wrote. Even though she knew I&rsquo;d never finished much of anything before.</p>

<p>I&rsquo;d like to think she believed in me, but maybe she just <em>really</em> wanted to move
out of that tiny bungalow. Seriously, that house was so small we had to move the
stroller into the living room every time we did laundry.</p>

<p>With her OK, I started working on a plan. Since padding my résumé was a primary
motivation, I needed a real publisher. I figured putting my <em>self</em>-published
book on my résumé would sound about as impressive as that &ldquo;World&rsquo;s Best Son&rdquo; mug
I got from Mom.</p>

<p>I spent a bunch of time reading submission guidelines. They usually want an
outline (check) and some sample chapters (oops). So I spent a couple of weeks
writing and revising a couple of chapters. This was a nice trial to see if I
could actually write something that looked like a book chapter. Miracle of
miracles, I could! For the record, the first chapter I wrote was <a href="http://gameprogrammingpatterns.com/object-pool.html">Object
Pool</a>.</p>

<p>I carefully looked at a range of different publishers and their compensation
packages before making an educated choice about which ones to submit to. And by
that I mean I sent it to O&rsquo;Reilly because OMG having a book with an animal on it
like <a href="http://shop.oreilly.com/product/9780596000271.do">Perl&rsquo;s camel book</a> would be SO RAD.</p>

<p>I emailed them the submission with butterflies in my stomach which, when you
think about it, is an absolutely pointless physiological reaction given that I
was in my house all alone staring at my computer and not being attacked by a
sabre-toothed tiger. A heightened sympathetic nervous system does not actually
make email arrive faster.</p>

<p>Unbelievably, they got back in touch. They were interested! I had an editor! He
had feedback! He talked to me like I was an actual writer and not some jackass
who decided he was an author because he thought it sounded cool. There was talk
of a (small) advance. I felt like hot shit.</p>

<p>And then&hellip; somehow&hellip; it sort of fell through. I don&rsquo;t remember the exact
details, but at some point they decided to not move forward after all. I reached
out to a few other publishers and found another one. I signed a contract with
Apress and was super pumped to be back in business. We had a writing schedule
and everything.</p>

<p>During all of this, I was still writing and managed to get a couple more
chapters done. Unfortunately (but unsurprisingly and understandably) my
publisher was a little hesitant to have me put them all online, so I didn&rsquo;t get
that jolt of dopamine every time someone on the Internet acknowledged my
existence.</p>

<h2>The Ordeal</h2>

<p>I thought I was back on track but then something funny happened. It turned out I
didn&rsquo;t need to pad my résumé after all. I got a new job. Outside of the game
industry and in the city we were desperately hoping to move to.</p>

<p>All of a sudden, we were packing up our belongings, kid, and pets; saying
goodbye to friends and family; and moving along what is practically the <a href="https://www.google.com/maps/dir/Orlando,+FL/Seattle,+WA/@36.7354942,-119.5307801,4z/data=!3m1!4b1!4m14!4m13!1m5!1m1!1s0x88e773d8fecdbc77:0xac3b2063ca5bf9e!2m2!1d-81.3792365!2d28.5383355!1m5!1m1!1s0x5490102c93e83355:0x102565466944d59a!2m2!1d-122.3320708!2d47.6062095!3e4">longest
straight line move</a> you can make in the continental US. I was plunged
headlong into learning all sorts of new stuff at work that had nothing to do
with games. We got another dog and had another kid.</p>

<p>That writing scheduled was looking a little, uh, unrealistic. Eventually, I
realized my heart just wasn&rsquo;t in the book anymore. I called my editor,
apologized profusely, and backed out of my deal. Without the pressure to write,
I forgot about the book almost completely. I hadn&rsquo;t <em>abandoned</em> it, really. I
told myself I&rsquo;d get back to it <em>some day</em>. It languished for a year. Then
another.</p>

<p>It would have gone into my overflowing bucket of unfinished projects if it
wasn&rsquo;t for one thing: <em>people kept emailing me about it.</em> You see, I&rsquo;d put the
entire table of contents online along with the handful of chapters I had
written. Every now and then I would get a long, wonderful email from someone
telling me how a chapter really helped some abstract concept click in their mind
and how they couldn&rsquo;t wait for the next chapter. Good God, their enthusiasm made
me feel terrible.</p>

<h2>Resurrection and Rebirth</h2>

<p>About a year ago, I had an unpleasant realization: as I got farther and farther
from my days as a professional game developer, my expertise was getting out of
date. <em>I was losing the ability to finish the book.</em></p>

<p>While all my other unfinished projects didn&rsquo;t bother me that much, the book was
special. I&rsquo;d only ever tried to write this one, and to have it die would break
my heart. I figured it was now or never.</p>

<p>Around this time, I&rsquo;d stumbled onto <a href="http://lifehacker.com/281626/jerry-seinfelds-productivity-secret">that article about Jerry Seinfeld&rsquo;s trick
for staying productive</a>. It&rsquo;s pretty simple: work on it every single day.
Don&rsquo;t break the chain of sequential days. I also met <a href="http://japhr.blogspot.com/">Chris Strom</a> who&rsquo;s been
blogging this way for something like a million years.</p>

<p>Without putting much thought into it, I figured I&rsquo;d give it a try.  I hadn&rsquo;t
written a word on the book in well over a year, but on June 7th, I started a new
chapter on <a href="http://gameprogrammingpatterns.com/game-loop.html">game loops</a>. I wrote 777 words of first draft, less than
an hour of work.</p>

<p>The next day, I wrote 489 words. Then a meager 178. But it wasn&rsquo;t <em>zero</em>. This
weird desire not to break the chain made me drag myself off my ass and at least
write <em>something</em>, and once those 178 words were done, I was that much closer to
the end. The next day, I did 889 words. The day after that, I finished the first
draft of the chapter.</p>

<h2>Interlude: How a Chapter is Made!</h2>

<p>I got so wrapped up in my own little narcissistic narrative I forgot to tell you
anything useful about the actual mechanics of how I write! Since I decided to
post chapters online as I completed them, I knew I couldn&rsquo;t just do a first
draft of the whole book before revising anything. Trust me, <em>no one</em> wants to
read a first draft. Instead, I treat each chapter like a little standalone piece
of writing. I do it like this:</p>

<h3>1. Outline the chapter</h3>

<p>Most of the chapters have the same top level structure, but within those
headings, I do a pretty detailed outline of what points I want to cover and how
they flow together. By the end, I have basically all of the material for the
chapter, just with no actual punctuation or grammar. It&rsquo;s everything I want to
say, said really poorly.</p>

<p>Here&rsquo;s a chunk of outline from the <a href="http://gameprogrammingpatterns.com/game-loop.html">Game Loop</a> chapter:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>- old programs used to be batch: ran and quit
- then came interactive programs. these ran forever,
  which meant loop
- if you write gui app, the os has event loop
  - you receive ui event, handle it, and return to event loop
  - js is a great example
  - you don&#39;t see loop, but it&#39;s there
  - when app isn&#39;t handle user input, it isn&#39;t doing
    anything, just sitting there
  - this can work for simple games (minesweeper, solitaire)
</code></pre></div>
<p>I don&rsquo;t think those bullet points or indentation even mean anything. It&rsquo;s just
word salad.</p>

<h3>2. Write the code</h3>

<p>The outline will hint at the example code so I know what blocks of code need to
be written. Then I come back and write the actual code. Sometimes I&rsquo;ll
interleave this with writing the text, other times I&rsquo;ll do all of the code up
front.</p>

<p>I write the code in <a href="https://github.com/munificent/game-programming-patterns/tree/master/code/cpp">separate C++ source files</a> so that I can compile it
and make sure it&rsquo;s free of errors. For some chapters, I even wrote unit tests.
The script that converts the Markdown to HTML pulls in the code snippets
directly from those files.</p>

<p>Here&rsquo;s a bit of markdown for the <a href="http://gameprogrammingpatterns.com/prototype.html">Prototype</a> chapter:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>To create a ghost spawner, we just create a prototypical ghost
instance, and then create a spawner holding that prototype:

^code spawn-ghost-clone

One neat part about this pattern is that it doesn&#39;t just clone
the *class* of the prototype, it clones its *state* too...
</code></pre></div>
<p>The little <code>^code</code> tells my script to hunt in the C++ code until it finds:</p>
<div class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span></span><span class="t">void</span> <span class="i">test</span><span class="p">()</span>
<span class="p">{</span>
  <span class="c">//^spawn-ghost-clone</span>
  <span class="t">Monster</span><span class="o">*</span> <span class="i">ghostPrototype</span> <span class="o">=</span> <span class="k">new</span> <span class="t">Ghost</span><span class="p">(</span><span class="n">15</span><span class="p">,</span> <span class="n">3</span><span class="p">);</span>
  <span class="t">Spawner</span><span class="o">*</span> <span class="i">ghostSpawner</span> <span class="o">=</span> <span class="k">new</span> <span class="t">Spawner</span><span class="p">(</span><span class="i">ghostPrototype</span><span class="p">);</span>
  <span class="c">//^spawn-ghost-clone</span>
  <span class="i">use</span><span class="p">(</span><span class="i">ghostSpawner</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>It stitches in those two lines of code and we&rsquo;re good!</p>

<h3>3. Write the first draft</h3>

<p>I <em>hate</em> first drafts. I hate the blank page. I do a detailed outline up front
to try to make this easier. And then I rush through this as quick as I can to
get it over with. Even so, this part takes the longest and I usually only get
about 500 words a day on it.</p>

<p>I try to silence my internal critic during this phase so I can keep making
forward progress. I rely heavily on later revisions. Knowing I will edit later
gives me the freedom to <em>not</em> edit now.</p>

<h3>4. Do the second draft</h3>

<p>As soon as the first draft is done, I circle back and do the second. This
involves fixing all of the mistakes, bad grammar, and poor flow of the first
draft. Sometimes, there&rsquo;s major surgery here when I decide something I crammed
in just isn&rsquo;t working. I make a <em>lot</em> of changes:</p>

<figure>
<img class="framed" src="/image/2014/04/second-draft.png">
<figcaption>A chunk of <a href="https://github.com/munificent/game-programming-patterns/commit/911cb7606937d890c774d5503cb712b22bf1b08b">
the diff from the first to second draft</a> of
<a href="http://gameprogrammingpatterns.com/architecture-performance-and-games.html">
the last chapter</a> I wrote.</figcaption>
</figure>

<p>The second draft is shorter than the first. Writing to me is like pottery. I
slap all the clay on the wheel in a big blob and then gradually work it down to
the final piece. I can get about 1,000 words of this done a day.</p>

<p>I <em>love</em> this part. Feeling the prose get tigher and clearer is exactly as
satisfying as refactoring messy code. It&rsquo;s less stressful because I feel like
anything I do now just makes it better but the chapter is safely <em>complete</em>
regardless. There&rsquo;s no more scary blank page, so editing is just pure goodness.</p>

<h3>5. Do the third draft</h3>

<p>This is the home stretch. At this point, the chapter is almost in its final
form. For this last pass, what I&rsquo;m looking for is mistakes and rhythm.</p>

<p>I read the entire chapter <em>out loud</em>. I can&rsquo;t stress enough how helpful it is.
You can read something ten times and think it&rsquo;s fine but the first time you run
it through your lips you&rsquo;ll find all of the wrinkles. This fixes awkward
repetition and bad cadence. When the prose <em>reads</em> naturally and easily, that&rsquo;s
not because it was easy and natural to <em>write</em>. It&rsquo;s because I edited the hell
out of it.</p>

<h3>6. Illustrations</h3>

<p>The last thing I do is draw a few illustrations for the chapter. I think visuals
are <em>hugely</em> important for making abstract concepts concrete in the user&rsquo;s mind.</p>

<p>I spent a lot of time trying to figure out how I wanted to illustrate the book.
I&rsquo;d done a few illustrations in Photoshop, but didn&rsquo;t like how the text looked
pixellated. It also made it a real pain to change the design of the site, and
looked terrible when retina displays came on the scene.</p>

<p>I thought about using SVG, but that seemed like a huge time sink to get the
level of quality I wanted. Eventually, I hit upon the idea of going in the
<em>other</em> direction. I decided to hand-draw and scan the illustrations. I could
scan them at a high enough resolution to look sharp on a retina screen. More
importantly, their <em>intentional</em> imperfection would help turn off the OCD part
of my brain that would be unsatisfied with anything less than perfect <a href="http://www.edwardtufte.com/tufte/">Edward
Tufte</a>-quality diagrams.</p>

<figure>
  <img class="framed" src="/image/2014/04/illustrations.jpg">
  <figcaption>Some of the 66 hand-drawn illustrations.</figcaption>
</figure>

<h3>7. Publish and fix bugs</h3>

<p>At this point, I think the chapter is done. I put it online and tell the world,
and immediately they point out a bunch of glaringly obvious bugs that somehow
survived several rounds of editing. I fix those, and <em>now</em> the chapter is mostly
solid.</p>

<h2>The Long Road</h2>

<p>OK, where were we? I started logging each day&rsquo;s work in <a href="https://github.com/munificent/game-programming-patterns/blob/master/note/log.txt">a little text
file</a>. Less than two weeks later, the chapter was done:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>2013-06-18 - Finish third draft of Game Loop
2013-06-17 - 1,280 words revised in third draft of Game Loop
2013-06-16 - ~1,000 words revised in third draft of Game Loop
2013-06-15 - Finish second draft of Game Loop
2013-06-14 - Revise couple of paragraphs of Game Loop
2013-06-13 - Revise ~500 words of second draft of Game Loop
2013-06-12 - Revise ~900 words of second draft of Game Loop
2013-06-11 - Finish first draft of Game Loop
2013-06-10 - 489 words on first draft of Game Loop
2013-06-09 - 178 words on first draft of Game Loop
2013-06-08 - 889 words on first draft of Game Loop
2013-06-07 - 777 words on first draft of Game Loop
</code></pre></div>
<p>I spent some time redoing the design of the site not to be totally busted on
mobile devices and then started the next chapter. Now, if this was a movie, this
is when the eighties instrumental rock would start and the montage would kick
in. Before you know it, the book would be done.</p>

<p>But, I tell you what, I <em>lived</em> that montage, and it did <em>not</em> pass quickly.
Working on this damned book was a pain in the ass <em>every single day</em>. I work
full time, and have two small kids. We bought a house and all of the work that
that entails and it turns out that, holy crap, it&rsquo;s pretty easy to fill an
entire day with stuff that&rsquo;s <em>not</em> writing a book.</p>

<p>I started getting up early in the morning before the kids so I could have some
quiet time. Ostensibly, I would write then, and sometimes I did. But, more often
than not, I&rsquo;d just drink coffee and stare at the Internet while I slowly roused
myself. Then, after I&rsquo;d worked, made dinner, gotten the kids cleaned up and
ready for bed, read them books, gotten them milk, cleaned up a bit and gotten
them in bed, <em>then</em>, I&rsquo;d still have to write.</p>

<p>Yet, strangely, I would. I&rsquo;ve never demonstrated an ounce of self-discipline in
my <em>entire life</em>, but for some reason I just didn&rsquo;t want to skip a day. Even
though I was often dog tired, I would scrape up just enough energy to put in
barely half an hour of writing. I would look at the pathetic word count and feel
bad before going to sleep exhausted.</p>

<p>But here&rsquo;s the thing. Even tiny amounts of effort add up if you keep at it. I&rsquo;d
have entire weeks where I felt like I didn&rsquo;t have a single good writing day, but
after two of those weeks&hellip; that&rsquo;s a whole chapter.</p>

<p>Because I was writing <em>every</em> day, it made it easier to build it into the
routine. I never had a chance to get used to <em>not</em> writing. It was just this
thing that <em>must</em> be in the schedule, like brushing my teeth or eating, even
when I traveled or did outings with the kids. I gave <a href="http://www.infoq.com/presentations/dart-introduction">a talk at Strange
Loop</a> last year, and every evening after dinner, while others were out at
bars socializing, I went back to my hotel room so I could write. When I flew to
another office for all-day meetings, I wrote on the plane.</p>

<p>The only insurmountable problem I ran into was a camping trip. I couldn&rsquo;t
imagine bringing a laptop to the woods and charging it in my car or something.
Instead, I did what comic strip artists do: I banked some days. For two days
leading up to the trip, I wrote two sessions a day. Then I wrote early in the
morning before leaving, so I only ended up skipping one day. I basically loaned
myself the time, with interest.</p>

<h2>Refusal of the Return</h2>

<p>Once I started putting chapters online again, people started noticing. I got
that feedback and encouragement that I thrive on and I was delighted to have
stuff to talk about on Reddit again.</p>

<p>Around this time, an editor at another publisher reached out to me. Now that I
was working on the book again, would I be interested in a publishing deal? She
was super nice and was very willing to work with me. I could keep the book
online. I could be involved in the design and layout. It could be everything I
wanted and more.</p>

<p>I kind of dragged my feet for a while before I finally realized my reluctance
was trying to tell me something. When I&rsquo;d had publishers before, the power
relationship felt really strange. O&rsquo;Reilly and Apress were both great, but I
felt like they were in charge, which is bizarre when you think about how much
effort the author puts into it compared to the publisher.</p>

<p>What I was finding was that I really liked it being <em>my</em> book. I&rsquo;m not doing
this for the money, which means I&rsquo;m doing it for my personal satisfaction. And
what&rsquo;s most satisfying to me is feeling like I got to put as much of my own
creativity into it as possible without someone else calling the shots.</p>

<p>That&rsquo;s not to say I don&rsquo;t like collaboration. I&rsquo;ve gotten about 130 bug reports
along with a bunch of pull requests, not to mention lots of comments and email.
I absolutely treasure all of that, and the book is way better than it would be
without that.</p>

<p>I really like working <em>with</em> readers and contributors, but I&rsquo;m not really
interested in working <em>for</em> a publisher. About halfway through the book, I
decided to self-publish. That meant I needed to start doing the things a
publisher does. In my mind that&rsquo;s:</p>

<ol>
<li><p><strong>Developmental editing.</strong> When you get a book deal, this is what the editor
you work with does. It&rsquo;s their job to guide the overall direction of the
book to make sure it lines up with what audiences want.</p></li>
<li><p><strong>Marketing, advertising, and distribution.</strong> Basically, getting the book in
front of people and in stores. Making it exist and making people know it
exists.</p></li>
<li><p><strong>Copyediting, proofreading, illustrations, and design.</strong> The sort of blue
collar stuff that turns a manuscript into a book.</p></li>
</ol>

<p>I&rsquo;d been putting chapters online and interacting directly with my audience since
I started the book, so I felt like I had a better handle on what they wanted
than most editors would. Having an inbox with hundreds of emails from people is
pretty helpful when you&rsquo;re trying to figure out what they want.</p>

<p>All of the manual labor side of things&mdash;editing and design --are some of my
favorite parts. Before I was a programmer, I was a graphic designer, and I&rsquo;ve
dreamed of typesetting and laying out a book. Bug reports from readers helped do
some of the work of copyediting. (Special shout-out to mystery superhero
<a href="https://github.com/colms">colms</a> who basically line-edited the entire book free of charge.) Finding a
freelance proofreader didn&rsquo;t seem too hard.</p>

<p>Of course, distribution is a mostly solved problem now. Especially with
technical books, people buy them from Amazon or get e-books. I can do those just
as well as any New York publisher. You don&rsquo;t need deals or shelf space any more
(though it certainly doesn&rsquo;t hurt).</p>

<p>That left marketing and advertising&mdash;making sure people knew about the book.
So I created a mailing list. I added a little blurb to the top of each page on
the book&rsquo;s site saying the book was a work-in-progress and to sign up if you
want to know when chapters come out. As of this morning, I have a little over
3,000 subscribers, which is probably more reach than a &ldquo;real&rdquo; publisher would
have given me.</p>

<h2>Finishing the Damn Thing</h2>

<p>Once I had that decided and squared away, all that was left was to write the
rest of the chapters. So I wrote. And wrote. And wrote. Every single day. I
wrote while my wife gave the kids a bath. I wrote at five in the morning before
we went on day trips. I wrote when I was sick. I wrote on Halloween,
Thanksgiving, Christmas, and New Year&rsquo;s.</p>

<p>When I finished a chapter, I&rsquo;d spend a few days where &ldquo;writing&rdquo; consisted of
fixing bugs, responding to email and other minutia. But then I&rsquo;d get to the next
chapter.</p>

<p>After a while, writing the book receded into the back of my mind. It wasn&rsquo;t
something I thought much about during the day. When people asked what I did
outside of work, I&rsquo;d forget to include it sometimes. It was just ever-present
background noise. Exactly 322 days after I started the first draft of Game Loop,
all of these little slices of low thread priority background work on the book
added up.</p>

<p>95,688 words. 21 chapters. 66 illustrations. 133 fixed issues. Hundreds of
commits. Yesterday, I <a href="https://github.com/munificent/game-programming-patterns/commit/5613f47f844e9911a31db49869ce097ab351a8df">committed the third draft of the last chapter</a> and
the manuscript was complete.</p>

<p>I&rsquo;ve wanted to be able to claim that I&rsquo;ve written a book for so long that it
feels weird to finally be on the other side of the finish line. I wrote a book.
Not &ldquo;want to write&rdquo;. Not &ldquo;will write&rdquo;. Not even &ldquo;am writing&rdquo;. <em>Wrote.</em></p>

  <div class="social">
    <a href="//www.reddit.com/submit?url=https://journal.stuffwithstuff.com/2014/04/22/zero-to-95688-how-i-wrote-game-programming-patterns//" target="_blank">
      <i class="fa fa-lg fa-reddit-square"></i>
    </a>

    <a href="//news.ycombinator.com/submitlink?u=https://journal.stuffwithstuff.com/2014/04/22/zero-to-95688-how-i-wrote-game-programming-patterns//&amp;t=Zero to 95,688: How I wrote Game Programming Patterns" target="_blank">
      <i class="fa fa-lg fa-hacker-news"></i>
    </a>

    <a href="//twitter.com/share?url=https://journal.stuffwithstuff.com/2014/04/22/zero-to-95688-how-i-wrote-game-programming-patterns/&amp;text=%22Zero to 95,688: How I wrote Game Programming Patterns%22%20%40munificentbob" target="_blank">
      <i class="fa fa-lg fa-twitter-square"></i>
    </a>

    <a href="//www.facebook.com/share.php?u=https://journal.stuffwithstuff.com/2014/04/22/zero-to-95688-how-i-wrote-game-programming-patterns/" target="_blank">
      <i class="fa fa-lg fa-facebook-square"></i>
    </a>

    <a href="/rss.xml">
      <i class="fa fa-lg fa-rss-square"></i>
    </a>
  </div>

  
  <div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'journal-stuffwithstuff';
        var disqus_url = "https://journal.stuffwithstuff.com/2014/04/22/zero-to-95688-how-i-wrote-game-programming-patterns/";

        (function() {
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  
</article>


      <nav>
  <div class="nav-first">
    <a href="/"><img src="/image/dogshot_square.jpg" class="bob"></a>

    <p>Hi! I'm <strong>Bob Nystrom</strong>, the one on the left. I wrote <a href="https://gameprogrammingpatterns.com/"><strong>Game Programming Patterns</strong></a> and <a href="https://craftinginterpreters.com"><strong>Crafting Interpreters</strong></a>.</p>
    <p>You can email me at <code>robert</code> at this site or follow me on twitter at <a href="https://twitter.com/intent/user?screen_name=munificentbob"><code>@munificentbob</code></a>.</p>

    <h2>Elsewhere</h2>
    <ul>
      <li>Code at <a href="https://github.com/munificent">GitHub</a></li>
      <li>Tweets at <a href="https://twitter.com/munificentbob">Twitter</a></li>
      <li>Music at <a href="https://www.youtube.com/@tinywires">YouTube</a></li>
      <li>Photos at <a href="https://500px.com/munificent">500px</a></li>
      <li>Photos at <a href="https://www.flickr.com/photos/bobisbob/">Flickr</a></li>
    </ul>
  </div>
  <div class="nav-second">
    <h2>Categories</h2>
    <ul><li><a href="/category/code">code</a> <small class='post-count'>69</small></li><li><a href="/category/language">language</a> <small class='post-count'>46</small></li><li><a href="/category/magpie">magpie</a> <small class='post-count'>24</small></li><li><a href="/category/c-sharp">c-sharp</a> <small class='post-count'>13</small></li><li><a href="/category/dart">dart</a> <small class='post-count'>13</small></li><li><a href="/category/game-dev">game-dev</a> <small class='post-count'>12</small></li><li><a href="/category/java">java</a> <small class='post-count'>10</small></li><li><a href="/category/cpp">cpp</a> <small class='post-count'>8</small></li><li><a href="/category/design">design</a> <small class='post-count'>7</small></li><li><a href="/category/game-patterns">game-patterns</a> <small class='post-count'>6</small></li><li><a href="/category/parsing">parsing</a> <small class='post-count'>6</small></li><li><a href="/category/roguelike">roguelike</a> <small class='post-count'>6</small></li><li><a href="/category/book">book</a> <small class='post-count'>5</small></li><li><a href="/category/go">go</a> <small class='post-count'>5</small></li><li><a href="/category/personal">personal</a> <small class='post-count'>5</small></li><li><a href="/category/js">js</a> <small class='post-count'>4</small></li><li><a href="/category/c">c</a> <small class='post-count'>3</small></li><li><a href="/category/finch">finch</a> <small class='post-count'>3</small></li><li><a href="/category/python">python</a> <small class='post-count'>3</small></li><li><a href="/category/ruby">ruby</a> <small class='post-count'>3</small></li><li><a href="/category/blog">blog</a> <small class='post-count'>2</small></li><li><a href="/category/f-sharp">f-sharp</a> <small class='post-count'>2</small></li><li><a href="/category/javascript">javascript</a> <small class='post-count'>2</small></li><li><a href="/category/lua">lua</a> <small class='post-count'>2</small></li><li><a href="/category/music">music</a> <small class='post-count'>2</small></li><li><a href="/category/ai">ai</a> <small class='post-count'>1</small></li><li><a href="/category/beta">beta</a> <small class='post-count'>1</small></li><li><a href="/category/game">game</a> <small class='post-count'>1</small></li><li><a href="/category/jasic">jasic</a> <small class='post-count'>1</small></li><li><a href="/category/oop">oop</a> <small class='post-count'>1</small></li><li><a href="/category/optimization">optimization</a> <small class='post-count'>1</small></li><li><a href="/category/oscon">oscon</a> <small class='post-count'>1</small></li><li><a href="/category/politics">politics</a> <small class='post-count'>1</small></li><li><a href="/category/scheme">scheme</a> <small class='post-count'>1</small></li><li><a href="/category/typescript">typescript</a> <small class='post-count'>1</small></li><li><a href="/category/visualization">visualization</a> <small class='post-count'>1</small></li></ul>

    <p class="archive">All <a href="/archive">80 articles</a>&hellip;</p>

    <p>This blog is built using a bespoke static site generator. The source repo
    is <a href="https://github.com/munificent/journal">here</a>.</p>
    <p class="copyright">&copy; 2008-2021 Bob Nystrom</p>
  </div>
</nav>
    </div>
  </body>
</html>
